{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/main.js"],"sourcesContent":["\nconst ApiKey = \"live_3CKy5yTuXrAzCmE7H7xrCVB77JtRAYCYWX8J4u5nAGZO565MKxw9oOx7YjZ5E4Cq\";\nconst breedsUrl = \"https://api.thecatapi.com/v1/breeds\";\n\nexport function fetchBreeds() {\n  return fetch(breedsUrl, {headers: {\n      'x-api-key': ApiKey,\n    }}).then((response) => {\n    if (!response.ok) {\n        return;\n    }\n    return response.json();\n  });\n};\n\nconst FullInfoUrl = \"https://api.thecatapi.com/v1/images/search\";\n\nexport function fetchCatByBreed(breedId) {\n    return fetch(`${FullInfoUrl}?breed_ids=${breedId}`, {headers: {\n      'x-api-key': ApiKey,\n    }\n    }).then((response) => {\n        if (!response.ok) {\n            return;\n      }\n        return response.json();\n    });\n};\n","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\n\n\nconst breedSelect = document.querySelector(\".breed-select\");\nconst div = document.querySelector(\".cat-info\");\nconst errorMessage = document.querySelector(\".error\");\nconst loaderMessage = document.querySelector(\".loader\");\nlet storedBreeds = [];\n\nloaderMessage.classList.remove(\"loader-hidden\");\n\nfetchBreeds().then((data) => {\n      storedBreeds = data;\n      loaderMessage.classList.add(\"loader-hidden\")\n      breedSelect.classList.remove(\"select-hidden\");\n   for (let i = 0; i < storedBreeds.length; i++) {\n      const breed = storedBreeds[i];\n      let option = document.createElement('option');\n      \n      option.value = `${breed.id}`;\n      option.innerHTML = `${breed.name}`;\n      document.querySelector('.breed-select').appendChild(option);\n   \n   };\n}).catch(() => {\n   breedSelect.classList.add(\"select-hidden\");\n   errorMessage.classList.remove(\"error-hidden\");\n});\n\nbreedSelect.addEventListener(\"change\", handlerSelect);\n\nfunction handlerSelect(event) {\n   const breedId = event.target.value;\n   div.innerHTML = \"\";\n   loaderMessage.classList.remove(\"loader-hidden\");\n   errorMessage.classList.add(\"error-hidden\")\n   fetchCatByBreed(breedId).then((data) => {\n      if (data.length === 0) {\n         loaderMessage.classList.add(\"loader-hidden\");\n         div.innerHTML = \"<p class = no-info>Unfortunately, we have no information about this cat.</p>\";\n         return;\n      }\n      loaderMessage.classList.add(\"loader-hidden\");\n      div.innerHTML = createMarkup(data);\n   }).catch(() => {\n      div.classList.add(\"info-hidden\");\n      loaderMessage.classList.add(\"loader-hidden\");\n      errorMessage.classList.remove(\"error-hidden\");\n});\n};\n\nfunction createMarkup(arr) {\n   let breedImg;\n   let breedName;\n   let breedDescription;\n   let breedTemperament;\n   for (const data of arr) {\n      breedImg = data.url;\n      for (const breed of data.breeds) {\n         breedName = breed.name;\n         breedDescription = breed.description;\n         breedTemperament = breed.temperament;\n      }\n   }\n   const markup = `<img src=\"${breedImg}\" alt=\"${breedName}\">\n      <div><h>${breedName}</h>\n      <p>${breedDescription}</p>\n      <p><span class=\"temp\">Temperament: </span>${breedTemperament}</p></div>`;\n\n   return markup;\n};\n"],"names":["ApiKey","breedsUrl","fetchBreeds","response","FullInfoUrl","fetchCatByBreed","breedId","breedSelect","div","errorMessage","loaderMessage","storedBreeds","data","i","breed","option","handlerSelect","event","createMarkup","arr","breedImg","breedName","breedDescription","breedTemperament"],"mappings":"ssBACA,MAAMA,EAAS,wEACTC,EAAY,sCAEX,SAASC,GAAc,CAC5B,OAAO,MAAMD,EAAW,CAAC,QAAS,CAC9B,YAAaD,CACnB,CAAK,CAAC,EAAE,KAAMG,GAAa,CACvB,GAAKA,EAAS,GAGd,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,MAAMC,EAAc,6CAEb,SAASC,EAAgBC,EAAS,CACrC,OAAO,MAAM,GAAGF,CAAW,cAAcE,CAAO,GAAI,CAAC,QAAS,CAC5D,YAAaN,CACd,CACL,CAAK,EAAE,KAAMG,GAAa,CAClB,GAAKA,EAAS,GAGd,OAAOA,EAAS,MACxB,CAAK,CACL,CCxBA,MAAMI,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAM,SAAS,cAAc,WAAW,EACxCC,EAAe,SAAS,cAAc,QAAQ,EAC9CC,EAAgB,SAAS,cAAc,SAAS,EACtD,IAAIC,EAAe,CAAA,EAEnBD,EAAc,UAAU,OAAO,eAAe,EAE9CR,IAAc,KAAMU,GAAS,CACvBD,EAAeC,EACfF,EAAc,UAAU,IAAI,eAAe,EAC3CH,EAAY,UAAU,OAAO,eAAe,EAC/C,QAASM,EAAI,EAAGA,EAAIF,EAAa,OAAQE,IAAK,CAC3C,MAAMC,EAAQH,EAAaE,CAAC,EAC5B,IAAIE,EAAS,SAAS,cAAc,QAAQ,EAE5CA,EAAO,MAAQ,GAAGD,EAAM,EAAE,GAC1BC,EAAO,UAAY,GAAGD,EAAM,IAAI,GAChC,SAAS,cAAc,eAAe,EAAE,YAAYC,CAAM,CAEhE,CACA,CAAC,EAAE,MAAM,IAAM,CACZR,EAAY,UAAU,IAAI,eAAe,EACzCE,EAAa,UAAU,OAAO,cAAc,CAC/C,CAAC,EAEDF,EAAY,iBAAiB,SAAUS,CAAa,EAEpD,SAASA,EAAcC,EAAO,CAC3B,MAAMX,EAAUW,EAAM,OAAO,MAC7BT,EAAI,UAAY,GAChBE,EAAc,UAAU,OAAO,eAAe,EAC9CD,EAAa,UAAU,IAAI,cAAc,EACzCJ,EAAgBC,CAAO,EAAE,KAAMM,GAAS,CACrC,GAAIA,EAAK,SAAW,EAAG,CACpBF,EAAc,UAAU,IAAI,eAAe,EAC3CF,EAAI,UAAY,+EAChB,MACF,CACDE,EAAc,UAAU,IAAI,eAAe,EAC3CF,EAAI,UAAYU,EAAaN,CAAI,CACvC,CAAI,EAAE,MAAM,IAAM,CACZJ,EAAI,UAAU,IAAI,aAAa,EAC/BE,EAAc,UAAU,IAAI,eAAe,EAC3CD,EAAa,UAAU,OAAO,cAAc,CAClD,CAAC,CACD,CAEA,SAASS,EAAaC,EAAK,CACxB,IAAIC,EACAC,EACAC,EACAC,EACJ,UAAWX,KAAQO,EAAK,CACrBC,EAAWR,EAAK,IAChB,UAAWE,KAASF,EAAK,OACtBS,EAAYP,EAAM,KAClBQ,EAAmBR,EAAM,YACzBS,EAAmBT,EAAM,WAE9B,CAMD,MALe,aAAaM,CAAQ,UAAUC,CAAS;AAAA,gBAC1CA,CAAS;AAAA,WACdC,CAAgB;AAAA,kDACuBC,CAAgB,YAGlE"}